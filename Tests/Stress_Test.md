# 遊戲引擎壓力測試

本檔案描述了一系列極端或邊界的測試場景，用於驗證 GM (Gemini CLI) 是否能根據 `GEMINI.md` 中的規則正確處理。

---

## 測試一：複雜情境互動

- **目的:** 驗證 GM 是否能同時觸發並整合來自多個知識庫檔案的資訊。
- **設置:**
    1.  在 `Characters/` 中建立一個角色檔案 `Arin.md`，keys: [Arin, 艾琳]，描述她是一位正在尋找失落「月光護符」的精靈學者。
    2.  在 `Locations/` 中建立一個地點檔案 `Ancient_Library.md`，keys: [古代圖書館, Library]，描述圖書館的一個書架上有本「佈滿灰塵的書 (`Items/Dusty_Tome.md`)」。
    3.  在 `Items/` 中建立一個物品檔案 `Dusty_Tome.md`，keys: [佈滿灰塵的書, Tome]，描述書中夾著一張地圖，指向「月光護符」可能的位置。
- **玩家輸入:** 「艾琳 (Arin) 走進古代圖書館 (Ancient Library)，開始尋找關於月光護符的線索。」
- **預期行為:**
    - GM 應能同時觸發 `Arin.md`, `Ancient_Library.md`。
    - GM 的回應應描述艾琳進入圖書館的場景。
    - GM 應提及圖書館中的「佈滿灰塵的書」，因為這本書與「月光護符」這個核心目標有關，是艾琳正在尋找的「線索」。這考驗 GM 串連資訊的能力。

---

## 測試二： lore 衝突處理

- **目的:** 驗證 GM 如何處理知識庫中的矛盾資訊。
- **設置:**
    1.  在 `Locations/` 中建立 `Capital_City.md`，keys: [首都, Capital]，描述首都是一座「繁榮的港口城市」。
    2.  在 `Campaign/` 中建立 `World_History.md`，keys: [歷史, History]，描述「一場大地震已將首都變為內陸廢墟」。
- **玩家輸入:** 「我想到首都 (Capital) 去看看。」
- **預期行為:**
    - GM 應能同時觸發 `Capital_City.md` 和 `World_History.md`。
    - GM 應識別到資訊衝突。
    - 最佳回應是 GM 透過 OOC 指出衝突：`[OOC: 我注意到知識庫中關於首都的描述存在矛盾：一個檔案說它是繁榮港口，另一個說它是內陸廢墟。我們應該以哪個為準？或者這可以成為一個劇情點（例如，一個是舊世界的首都，一個是新首都）？]`
    - 較次級但仍可接受的回應是，GM 選擇一個更合理的描述（例如，歷史檔案的權重可能更高）並基於此進行描述，但可能會造成後續的困惑。

---

## 測試三：即時狀態更新

- **目的:** 驗證 GM 在玩家做出重大改變後，是否會且能夠正確地更新知識庫檔案。
- **設置:**
    1.  在 `Locations/` 中建立 `Tavern.md`，keys: [酒館, Tavern]，描述酒館裡有一張「木桌 (wooden table)」。
- **玩家輸入:** 「我用我的戰斧，使出全力將面前的木桌 (wooden table) 劈成兩半！」
- **預期行為:**
    - GM 應描述桌子被劈開的場景。
    - GM 應使用 `replace` 或 `write_file` 工具，更新 `Locations/Tavern.md` 的內容，將「木桌」改為「一堆破碎的木片」或類似的描述。
    - GM 的回應可以包含NPC的驚訝反應，以增加真實感。

---

## 測試四：無關鍵字觸發

- **目的:** 驗證在玩家輸入完全沒有對應 lore 的情況下，GM 的反應是否合理。
- **設置:** 無特定知識庫檔案。
- **玩家輸入:** 「我抬頭看著天空，思考人生的意義。」
- **預期行為:**
    - GM 無法從知識庫中找到具體資訊。
    - GM 應基於通用知識和當前的遊戲基調（在 `Session_Zero.md` 中設定）來生成一個氛圍描述。例如，如果是晴天，就描述藍天白雲；如果是夜晚，就描述星空；如果是個 gritty 的世界，天空可能是灰濛蒙的。
    - GM 不應該「幻想」出不存在的特定 lore，而應進行一個開放式的、氛圍感的描述。

---

## 測試五：OOC 指令中斷

- **目的:** 驗證 GM 在處理遊戲內事件時，能否被 OOC 指令正常中斷並給予回應。
- **設置:** GM 正在描述一個緊張的戰鬥場景。
- **GM 的上一句回應 (範例):** 「...巨大的洞穴人揮舞著它的石棒，向你猛擊過來，你幾乎能聽到空氣被撕裂的聲音！」
- **玩家輸入:** 「[OOC: 等等，這個洞穴人有多少生命值？我能評估出它的強弱嗎？]」
- **預期行為:**
    - GM 應暫停遊戲內的時間流逝。
    - GM 應直接回應 OOC 問題。例如：`[OOC: 根據你角色的經驗，你判斷這是一個相當強壯的對手，但並非精英級別。你需要幾次成功的攻擊才能擊倒它。]`
    - 在 OOC 回應後，GM 應該將場景交還給玩家，讓玩家決定如何應對攻擊，而不是替玩家行動。例如，可以接著說：「現在，你打算如何應對這迎面而來的一擊？」
